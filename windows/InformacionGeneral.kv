#: import utilidades assets.utilidades

<InfoInput@TextInput>:
    padding: 10
    font_size: 18
    font_name: "montserrat"
    color: 0,0,0,1
    size_hint: None, None
    size: 376, 40
    halign: "center"
    valign: "middle"
    background_color: 1,1,1,1
    background_normal: ''
    multiline: False
    password: False

<InfoSpinner@Spinner>
    font_size: 24
    font_name: "montserrat"
    color: 1,1,1,1
    size_hint: None, None
    size: 352,40
    halign: "center"
    valign: "middle"
    background_color:61/255,119/255,0/255,0.7
    background_normal: ''

<InfoButton@Button>
    font_size: 24
    font_name: "montserrat"
    color: 1,1,1,1
    size_hint: None, None
    size: 352,40
    halign: "center"
    valign: "middle"
    background_color:61/255,119/255,0/255,0.7
    background_normal: ''


<Emergent_Panel_4@Popup>:
    size_hint: None, None
    top: 800-232
    x: 357
    size: 566,336
    background:""
    background_color: (0,0,0, 0.8)
    separator_color: 0,0,0,0
    title: utilidades.Costantes.infoGeneral[11]
    title_size: 43
    font_name: "montserrat"
    title_align: "center"
    title_color: 1,1,1,1
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos
    FloatLayout:
        size_hint: None, None
        size: 566,116
        LoginButton:
            focus: True
            x: 464
            top: 800 - 467
            text: "Continuar"
            on_release:
                root.dismiss()
                app.screenManager.current= app.ventanas[3]

<InformacionGeneral>:
    LoginLayout:
        size_hint: None, None
        size: 1150, 623
        top: 800-88
        x: 65
        Titulos:
            text: utilidades.Costantes.infoGeneral[0]
            x: 192
            top: 800 - 24
        LoginLabel:
            x:88
            top:800-122
            text:"Nombre"
        InfoInput:
            id: nombre
            focus: True
            x:228
            top:800-122
            on_text_validate:
                if utilidades.Comprobaciones.name(self.text):\
                root.ids.apellido.focus = True
                if utilidades.Comprobaciones.name(self.text) == False:\
                root.ids.labelMensajes.text = "Formato de nombre Invalido"

        LoginLabel:
            x:674
            top:800-122
            text:"Apellido"
        InfoInput:
            id: apellido
            x:814
            top:800-122
            on_text_validate:
                if utilidades.Comprobaciones.name(self.text):\
                root.ids.nacimiento.focus = True
                if utilidades.Comprobaciones.name(self.text) == False:\
                root.ids.labelMensajes.text = "Formato de apellido Invalido"
        LoginLabel:
            x:88
            top:800-187
            text:"Fecha de nacimiento"
        InfoInput:
            id: nacimiento
            x:435
            top:800-187
            hint_text: "DD/MM/AAAA"
            size: 248, 40
            on_text_validate:
                if utilidades.Comprobaciones.data(self.text) == False:\
                root.ids.labelMensajes.text = "Formato de fecha Invalido"

                if utilidades.Comprobaciones.data(self.text):\
                root.ids.edad.text = f'Edad: {utilidades.InfoGeneral.edad(self.text)[0]}';\
                root.ids.rangoEdad.text = f'Rango: {utilidades.InfoGeneral.edad(self.text)[1]}';\
                app.cargarInfoGeneral()

        LoginLabel:
            id: edad
            x:756
            top:800-187
            text:"Edad"
        LoginLabel:
            id: rangoEdad
            x:986
            top:800-187
            text:"Rango"
        BoxLayout:
            orientation: "vertical"
            size_hint: None, None
            size: 1127, 429
            top: 800-252
            x: 88
            spacing: 25
            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: tipoDocumento
                    text: "Tipo de documento"
                InfoSpinner:
                    id: deptoExpedicion
                    text: utilidades.Costantes.infoGeneral[1]
                    on_text:
                        app.ciudadesExp(self.text)
                InfoSpinner:
                    id: ciudadExpedicion
                    text: utilidades.Costantes.infoGeneral[2]
            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: sexo
                    text: "Sexo"
                InfoSpinner:
                    id: tipo
                    text: "Tipo de Beneficiario"
                InfoSpinner:
                    id: nacionalidad
                    text: "Nacionalidad"
            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: pais
                    text: "Pais de residencia"
                    on_text:
                        app.departamentos(self.text)
                InfoSpinner:
                    id: departamentos
                    text: "Departamento"
                    on_text:
                        app.ciudades(self.text)
                InfoSpinner:
                    id: ciudades
                    text: "Ciudad"
                    on_text:
                        app.barrios(self.text)

            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: entorno
                    text: "Entorno"
                BoxLayout:
                    size_hint: None, None
                    size: 359,40
                    LoginLabel:
                        text: utilidades.Costantes.infoGeneral[3]
                        size: 158,40
                        text_size:158,40
                    InfoSpinner:
                        id: rotulo
                        text: utilidades.Costantes.infoGeneral[4]
                        size: 192,40
                InfoInput:
                    size: 352,40
                    hint_text: "___ # ___ - ___"

            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: barrios
                    text: "Barrio"
                BoxLayout:
                    size_hint: None, None
                    size: 359,40
                    LoginLabel:
                        size: 158,40
                        text_size:158,40
                        text: "Contacto"
                    InfoSpinner:
                        id: indicador
                        text: "Indicador"
                        size: 192,40
                InfoInput:
                    size: 352,40
                    hint_text: utilidades.Costantes.infoGeneral[5]
                    on_text_validate:
                        root.ids.labelMensajes.text = ""
                        if utilidades.Comprobaciones.fijo(self.text) == False:\
                        root.ids.labelMensajes.text = "Formato de Tel. Fijo Invalido"

            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: genero
                    text: utilidades.Costantes.infoGeneral[6]
                InfoInput:
                    id: celular
                    hint_text: utilidades.Costantes.infoGeneral[7]
                    size: 352,40
                    on_text_validate:
                        root.ids.labelMensajes.text = ""
                        if utilidades.Comprobaciones.celular(self.text) == False:\
                        root.ids.labelMensajes.text = "Formato de Tel. Celular Invalido"
                InfoButton:
                    text: utilidades.Costantes.infoGeneral[8]
                    on_release:
                        root.ids.labelMensajes.text = ""
                        if utilidades.Comprobaciones.celular(root.ids.celular.text) == False:\
                        root.ids.labelMensajes.text = "Formato de Tel. Celular Invalido"

                        if utilidades.Comprobaciones.celular(root.ids.celular.text):\
                        root.ids.labelMensajes.text = "Celular Agregado";\

            BoxLayout:
                spacing: 24
                InfoSpinner:
                    id: etnia
                    text: "Etnia"
                InfoSpinner:
                    id: discapacidad
                    text: utilidades.Costantes.infoGeneral[9]
                InfoInput:
                    size: 352,40
                    hint_text: utilidades.Costantes.infoGeneral[10]
        Titulos:
            id: labelMensajes
            color: 1,0,0,1
            size: 763, 38
            x: 75
            top: 800 - 737
            bold: False
        LoginButton:
            text: "Ingresar"
            top: 800-724
            x: 863
            on_release:
                Factory.Emergent_Panel_4().open()




